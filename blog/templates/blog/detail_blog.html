{% load static %}
 
 {% block content %}
  




 <link href="{% static 'assets/img/favicon.png'%}" rel="icon">
 <link href="{% static 'assets/img/apple-touch-icon.png'%}" rel="apple-touch-icon">

 <!-- Google Fonts -->
 <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

 <!-- Vendor CSS Files -->
 <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css'%}" rel="stylesheet">
 <link href="{% static 'assets/vendor/icofont/icofont.min.css'%}" rel="stylesheet">
 <link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css'%}" rel="stylesheet">
 <link href="{% static 'assets/vendor/venobox/venobox.css'%}" rel="stylesheet">
 <link href="{% static 'assets/vendor/aos/aos.css'%}" rel="stylesheet">

 <!-- Template Main CSS File -->
 <link href="{% static 'assets/css/style.css'%}" rel="stylesheet">



 <link rel="stylesheet" type="text/css" href="{% static 'detail.css'%}">
 <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css'%}" rel="stylesheet">

 <style>
     /* Style the buttons that are used to open and close the accordion panel */
.accordion {
  background-color: #eee;
  color: #444;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  text-align: left;
  border: none;
  outline: none;
  transition: 0.4s;
}

/* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
.active, .accordion:hover {
  background-color: #ccc;
}

/* Style the accordion panel. Note: hidden by default */
.panel {
  padding: 0 18px;
  background-color: white;
  display: none;
  overflow: hidden;
}

.ScrollStyle 
{
    max-height: 100%;
    overflow-y: scroll;
}

 </style>
 <section  style="height: 100% ;" >
<div class ="container ScrollStyle">
    <div class="row">
         <!--popo-->
 
        <!--blogpost-->
        <div class="card m-auto" >
            {%  if blog_post.image %}
                     <img class="card-img-top" src="{{blog_post.image.url}}"/>
                     <div class="card-body my-2">
                     <h2 class="card-title" style="color: rgb(231, 38, 38);text-align: center; text-transform: uppercase;">{{blog_post.title}}</h2>
                     <p class="card-text">{{blog_post.body|safe}}</p>
                      </div>
                      <div class="card-footer text-muted">
                       updated on {{blog_post.date_updated}} by {{blog_post.author}}  
                       <p>
                       {{number}}
                    </p>
                      </div>
                      <button class="accordion">comments</button>
                      <div class="panel">
                          {% for comment in comments%}
                          <p>
                             {{ comment.content}} 
                          </p>
                          <div>
                              <p>
                           updated on {{comment.timestamp}} by {{comment.author}} <br> rating <b>rating {{comment.rating}}</b>

                           </p>
                              </div> 
                              {% endfor%}
                        </div> 
  
                         <div>
                        <p>
                               <div>
                              <button class="submit-button btn btn-lg btn-primary btn-block" data-toggle="modal" data-target="#modalConfirmDelete">Create Comment</button>
                              </div>
                        </p> 
                      </div>
             {% else %}
                    <div class="card-body my-2">
                    <h2 class="card-title" style="color: rgb(231, 38, 38);text-align: center; text-transform: uppercase;">{{blog_post.title}}</h2>
                    <p class="card-text">{{blog_post.body|safe}}</p>
                    </div>
                    <div class="card-footer text-muted">
                    updated on {{blog_post.date_updated}} by {{blog_post.author}} 
                    <p>
                    reviews: {{number}}
                    </p> 
                    </div>
                    <button class="accordion">comments</button>
                    <div class="panel">
                        {% for comment in comments%}
                        <p>
                           {{ comment.content}} 
                        </p>
                        <div>
                            <p>
                         updated on {{comment.timestamp}} by {{comment.author}} ...<br> <b>rating {{comment.rating}}</b>
                         </p>
                            </div> 
                            {% endfor%}
                      </div> 

                       <div>
                      <p>
                             <div>
                            <button class="submit-button btn btn-lg btn-primary btn-block" data-toggle="modal" data-target="#modalConfirmDelete">Create Comment</button>
                            </div>
                      </p> 
                    </div>  
                    <form method="POST">
                        {% csrf_token %}
                          <!-- Button trigger modal-->

  
  <!--Modal: modalConfirmDelete-->
  <div class="modal fade" id="modalConfirmDelete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
      <!--Content-->
      <div class="modal-content text-center">
        <!--Header-->
        <div class="modal-header d-flex justify-content-center">
          <p class="heading"></p>
        </div>
  
        <!--Body-->
        <div class="modal-body">
            <div>
            <textarea class="form-control" rows="2" type="text" name="content" id="id_body" placeholder="comment about..." required></textarea>
        </div>
        <div>
          <textarea class="form-control" rows="1" type="text" name="rating" id="id_body" placeholder="place rating" required></textarea>
        </div>
        </div>
  
        <!--Footer-->
        <div class="modal-footer flex-center">
            <div class="text-center">
                <button class="btn  btn-danger waves-effect" type="submit">POST</button>
                </div>
          <a type="button" class="btn  btn-danger waves-effect" data-dismiss="modal">No</a>
        </div>
      </div>
      <!--/.Content-->
    </div>
  </div>
  
                    </form>
             {% endif %}
        </div>
    </div>

 
</div>
 </section>
 <script src="{% static 'assets/vendor/jquery/jquery.min.js'%}"></script>
 <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js'%}"></script>
 <script src="{% static 'assets/vendor/jquery.easing/jquery.easing.min.js'%}"></script>
 <script src="{% static 'assets/vendor/php-email-form/validate.js'%}"></script>
 <script src="{% static 'assets/vendor/isotope-layout/isotope.pkgd.min.js'%}"></script>
 <script src="{% static 'assets/vendor/venobox/venobox.min.js'%}"></script>
 <script src="{% static 'assets/vendor/aos/aos.js'%}"></script>

 <!-- Template Main JS File -->
 <script src="{% static 'assets/js/main.js'%}"></script>

 <script>
    var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    /* Toggle between adding and removing the "active" class,
    to highlight the button that controls the panel */
    this.classList.toggle("active");

    /* Toggle between hiding and showing the active panel */
    var panel = this.nextElementSibling;
    if (panel.style.display === "block") {
      panel.style.display = "none";
    } else {
      panel.style.display = "block";
    }
  });
} 
 </script>

 {% endblock content %}